/** Copyright 2023 Amazon.com Inc. or its affiliates. All Rights Reserved. **/
define(["jquery","jqueryHelper","markdownHelper","resourceManager","misc","argumentNullError","argumentError"],function($,t,e,n,a,r,o){function l(){}return l.initialize=function(t){var e,a;if(null==t)throw r.createInstance("markdownEditor");null!==(e=t.find("button[data-handler='bootstrap-markdown-cmdPreview']"))&&0!==e.length&&null!==(t=t.find("textarea[data-provide='markdown']"))&&0!==t.length&&((a=$("<button class='btn-sm btn' type='button'>"+n.getString("General_ViewMarkdownAsHtml_ButtonText")+"</button>")).insertAfter(e),a.click({textarea:t},l.onHtmlPreviewButtonClicked),$("<a style='margin-left:1em;vertical-align:middle' href='/admin/htmlmarkdown' target='_blank'>"+n.getString("General_ConvertHtmlToMarkdown_LinkText")+"</a>").insertAfter(e),e.remove())},l.onHtmlPreviewButtonClicked=function(t){if(null==t)throw r.createInstance("event");if(null===t.data||void 0===t.data)throw o.createInstance("event.data is null or undefined.");if(null===t.data.textarea||void 0===t.data.textarea)throw o.createInstance("event.data.textarea is null or undefined.");return e.showAsHtml(t.data.textarea.val()),!1},l.onToolbarClicked=function(t){if(null==t)throw r.createInstance("event");if(null===t.data||void 0===t.data)throw o.createInstance("event.data is null or undefined.");if(null===t.data.textarea||void 0===t.data.textarea)throw o.createInstance("event.data.textarea is null or undefined.");t.data.textarea.focus()},l.onTextareaFocus=function(t){if(null==t)throw r.createInstance("event");if(null===t.data||void 0===t.data)throw o.createInstance("event.data is null or undefined.");if(null===t.data.toolbar||void 0===t.data.toolbar)throw o.createInstance("event.data.toolbar is null or undefined.");return t.data.toolbar.stop(!0),t.data.toolbar.show(),!0},l.onTextareaBlur=function(t){if(null==t)throw r.createInstance("event");if(null===t.data||void 0===t.data)throw o.createInstance("event.data is null or undefined.");if(null===t.data.toolbar||void 0===t.data.toolbar)throw o.createInstance("event.data.toolbar is null or undefined.");return t.data.toolbar.fadeOut(),!0},l});