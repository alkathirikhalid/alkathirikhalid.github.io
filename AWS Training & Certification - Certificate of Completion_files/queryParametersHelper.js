/** Copyright 2023 Amazon.com Inc. or its affiliates. All Rights Reserved. **/
define(["jquery","purl","stringHelper","browserHelper","windowHelper","argumentNullError","argumentError","invalidOperationError"],function($,e,u,l,c,s,t,r){var p={updateQueryParameterValue:function(e,r){var t,a,n,i,o;if(u.isStringNullOrWhiteSpace(e))throw s.createInstance("parameterName");if(null!=r){for(i in t=(n=c.getLocationObject()).href,e=e.toString().toLowerCase(),a=$.url(t,!0).param())a.hasOwnProperty(i)&&i.toLowerCase()===e&&(o=i);return a[o=o||e]=r,r=n.pathname+"?"+$.param(a),t=n.protocol+"//"+n.host+r,!1===l.isOldIE()&&c.getHistoryObject().replaceState(null,document.title,r),t}p.removeQueryParameter(e)},addOrUpdateQueryParameterValue:function(e,r,t){var a,n,i;if(!r)throw"parameterName is null or empty.";if(null==t)throw"parameterValue is null or undefined.";for(n in e=e||c.getLocationObject().href,r=r.toString().toLowerCase(),a=(e=$.url(e,!0)).param())a.hasOwnProperty(n)&&n.toLowerCase()===r&&(i=n);return a[i=i||r]=t,e.data.attr.base+e.data.attr.path+"?"+$.param(a)},getQueryParameterValue:function(e,r){var t,a;if(u.isStringNullOrWhiteSpace(r))throw s.createInstance("parameterName");for(a in u.isStringNullOrWhiteSpace(e)&&(e=c.getLocationObject().href),r=r.toString().toLowerCase(),t=$.url(e,!0).param())if(t.hasOwnProperty(a)&&a.toLowerCase()===r)return t[a];return null},removeQueryParameter:function(e){var r,t,a,n,i;if(u.isStringNullOrWhiteSpace(e))throw s.createInstance("parameterName");if(r=c.getLocationObject(),e=e.toLowerCase(),t=r.href,null==(a=p.getQueryParameterValue(t,e)))return t;for(i in a=e+"="+a,n=r.search.substring(1).split("&"))if(n.hasOwnProperty(i)&&n[i].toLowerCase()===a.toLowerCase()){n.splice(i,1);break}return t=r.pathname,0<n.length&&(t=t+"?"+n.join("&")),!1===l.isOldIE()&&c.getHistoryObject().replaceState(null,document.title,t),u.trimStringEnd(r.origin,"/",!0)+"/"+u.trimStringStart(t,"/",!0)},removeQueryString:function(){var e=c.getLocationObject(),r=e.pathname;return!1===l.isOldIE()&&c.getHistoryObject().replaceState(null,document.title,r),e.origin+r},updateQueryString:function(e){var r;if(u.isStringNullOrWhiteSpace(e))throw s.createInstance("newQueryString");if(u.stringStartsWith(e,"?",!0))return e=(r=c.getLocationObject()).pathname+e,!1===l.isOldIE()&&c.getHistoryObject().replaceState(null,document.title,e),r.origin+e;throw t.createInstance("Query string must start with a '?'.")},updateQueryStringFromObject:function(e){return(e=e&&$.param(e))?p.updateQueryString("?"+e):null},getLocaleOnClick:function(e,r){return r&&p.getQueryParameterValue(null,r)===e?"return false;":void 0}};return p});